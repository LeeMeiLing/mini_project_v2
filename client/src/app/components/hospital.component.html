<div>
    <mat-card>
        <a [routerLink]="['/searchHospital']">Back to Search</a>
        <mat-card-title>
            <span>{{hospital.facilityName}}</span> &nbsp; &nbsp; <span>Rating: {{hospital.hospitalOverallRating}}/5</span>
        </mat-card-title>
        <mat-card-content>
            <span>{{hospital.address}},{{hospital.city}},{{hospital.state}},{{hospital.zipCode}},{{hospital.countyName}}</span>
            <br>
            <span>{{hospital.phoneNumber}}</span>
            <br>
            <span>Emergency service available: {{hospital.emergencyServices}}</span>
            <br>
            <span>Hospital Ownership: {{hospital.hospitalOwnership}}</span>
            <br>
            <span>Hospital Type: {{hospital.hospitalType}}</span>
            <br>
            <span *ngIf="totalReview > 0">
                <button type="button" (click)="showReview()">
                    Reviews ({{totalReview}})
                </button>
            </span>
            <span *ngIf="totalReview == 0">No Review Yet</span>
            <span><button type="button" (click)="goToReview()">Add A Review</button></span>
            <hr>

            <div *ngIf="reviews.length > 0">
                <h3>Patient Reviews</h3>
                <table>
                    <tr>
                        <td>
                            {{reviewSummary.countOfRatingFive}} patients rated 5 star
                            <br>
                            {{reviewSummary.countOfRatingFour}} patients rated 4 star
                            <br>
                            {{reviewSummary.countOfRatingThree}} patients rated 3 star
                            <br>
                            {{reviewSummary.countOfRatingTwo}} patients rated 2 star
                            <br>
                            {{reviewSummary.countOfRatingOne}} patients rated 1 star
                            <br>
                        </td>
                        <td>
                            Average Overal Rating:
                            <br>
                            {{reviewSummary.avgOverallRating  | number:'1.2-2'}} / 5.0
                            <br>
                            Based on {{totalReview}} patient reviews
                        </td>
                        <hr>
                    </tr>
                    <tr>
                        Average Rating for Nurse Communication: {{reviewSummary.avgNurseComm | number:'1.2-2'}} / 5
                        <br>
                        Average Rating for Doctor Communication: {{reviewSummary.avgDoctorComm | number:'1.2-2'}} / 5
                        <br>
                        Average Rating for Staff Responsiveness: {{reviewSummary.avgStaffResponsiveness | number:'1.2-2'}} / 5
                        <br>
                        Average Rating for Communication ABout Medicines: {{reviewSummary.avgCommAbtMed | number:'1.2-2'}} / 5
                        <br>
                        Average Rating for Discharge Information: {{reviewSummary.avgDischargeInfo | number:'1.2-2'}} / 5
                        <br>
                        Average Rating for Care Transition: {{reviewSummary.avgCareTransition | number:'1.2-2'}} / 5
                        <br>
                        Average Rating for Cleanliness: {{reviewSummary.avgCleanliness | number:'1.2-2'}} / 5
                        <br>
                        Average Rating for Quietness: {{reviewSummary.avgQuietness | number:'1.2-2'}} / 5
                        <br>
                        Average Rating for Willingness To Recommend: {{reviewSummary.avgRecommendation | number:'1.2-2'}} / 5
                    </tr>
                    <hr>
                    <tr *ngFor="let r of reviews">
                        <td *ngIf="r.patientVerified">
                            Patient Veririfed (/)
                        </td>
                        <td>
                            Overall Rating: {{r.overallRating}} / 5
                            <br>
                            Willingness to Recommend: {{r.willingnessToRecommend}} / 5
                            <br>
                        </td>
                        <td *ngIf="r.comments">
                            Comment: {{r.comments}}
                        </td>
                    </tr>
                </table>
            </div>
        </mat-card-content>
    </mat-card>
</div>
